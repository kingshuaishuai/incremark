# Theme åŒ…ä¼˜åŒ–å®Œæˆ âœ¨

## æ¦‚è¿°

æœ¬æ¬¡ä¼˜åŒ–æˆåŠŸè§£å†³äº† theme åŒ…çš„æ ¸å¿ƒæ¶æ„é—®é¢˜ï¼Œå¹¶è¿›è¡Œäº†å¤šé¡¹æ”¹è¿›ã€‚æ‰€æœ‰å˜æ›´éƒ½å·²å®Œæˆå¹¶ç»è¿‡éªŒè¯ã€‚

## ğŸ¯ ä¸»è¦æˆæœ

### 1. **è§£å†³äº† CSS Variables å¾ªç¯ä¾èµ–é—®é¢˜** â­ï¸â­ï¸â­ï¸

**ä¹‹å‰çš„é—®é¢˜ï¼š**
```
Less æ–‡ä»¶å¼•ç”¨ CSS Variables â†’ ä½†è¿™äº›å˜é‡åœ¨æ„å»ºåæ‰ç”Ÿæˆ â†’ å¾ªç¯ä¾èµ–ï¼
```

**ç°åœ¨çš„æ–¹æ¡ˆï¼š**
```
1. TypeScript Token å®šä¹‰ (src/tokens/*.ts)
   â†“
2. ç”Ÿæˆ css-variables.less (scripts/generate-css-variables.ts)
   â†“
3. Less å¯¼å…¥å¹¶ä½¿ç”¨ (variables.less)
   â†“
4. ç¼–è¯‘æœ€ç»ˆ CSS
```

**å…³é”®æ–‡ä»¶ï¼š**
- âœ… `scripts/generate-css-variables.ts` - æ–°å¢ç”Ÿæˆè„šæœ¬
- âœ… `src/styles/css-variables.less` - è‡ªåŠ¨ç”Ÿæˆï¼ˆå·²åŠ å…¥ .gitignoreï¼‰
- âœ… `src/styles/variables.less` - æ›´æ–°å¯¼å…¥é€»è¾‘
- âœ… `scripts/build-styles.ts` - ä¼˜åŒ–æ„å»ºæµç¨‹

### 2. **ä»£ç ç»„ç»‡ä¼˜åŒ–**

- âœ… æ‹†åˆ† `code-block.less` (163è¡Œ â†’ 90è¡Œ)
- âœ… æ–°å¢ `mermaid.less` (73è¡Œ) - ç‹¬ç«‹çš„ Mermaid æ ·å¼
- âœ… èŒè´£æ›´æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤

### 3. **Token ç³»ç»Ÿå®Œå–„**

- âœ… æ·»åŠ  `@spacing-xs: 4px`
- âœ… æ·»åŠ  `@font-size-small: 12px`
- âœ… æ›¿æ¢ç¡¬ç¼–ç å€¼ä¸º token å˜é‡

### 4. **æ„å»ºç³»ç»Ÿå¢å¼º**

- âœ… æ”¯æŒç¯å¢ƒå˜é‡ `NODE_ENV`
- âœ… ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨å‹ç¼©
- âœ… å¼€å‘ç¯å¢ƒç”Ÿæˆ source map
- âœ… æ–‡ä»¶å¤§å°æŠ¥å‘Š
- âœ… æ„å»ºå‰æ£€æŸ¥

### 5. **æ–‡æ¡£å®Œå–„**

- âœ… ä¿®å¤ README.md ä¸­çš„é”™è¯¯ç¤ºä¾‹
- âœ… æ›´æ–° API æ–‡æ¡£
- âœ… æ–°å¢ BUILD.md æ„å»ºè¯´æ˜
- âœ… æ–°å¢ OPTIMIZATION_SUMMARY.md ä¼˜åŒ–æ€»ç»“

## ğŸ“¦ æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶
```
âœ¨ scripts/generate-css-variables.ts    # CSS Variables ç”Ÿæˆè„šæœ¬
âœ¨ src/styles/css-variables.less        # è‡ªåŠ¨ç”Ÿæˆçš„ CSS Variables
âœ¨ src/styles/components/mermaid.less   # Mermaid å›¾è¡¨æ ·å¼
âœ¨ BUILD.md                              # æ„å»ºè¯´æ˜æ–‡æ¡£
âœ¨ OPTIMIZATION_SUMMARY.md              # ä¼˜åŒ–æ€»ç»“æ–‡æ¡£
```

### ä¿®æ”¹æ–‡ä»¶
```
ğŸ”§ .gitignore                            # å¿½ç•¥ css-variables.less
ğŸ”§ package.json                          # æ›´æ–°æ„å»ºè„šæœ¬
ğŸ”§ scripts/build-styles.ts               # ä¼˜åŒ–æ„å»ºæµç¨‹
ğŸ”§ src/styles/variables.less             # å¯¼å…¥ css-variables.less
ğŸ”§ src/styles/index.less                 # å¯¼å…¥ mermaid.less
ğŸ”§ src/styles/components/code-block.less # ç§»é™¤ Mermaid ç›¸å…³ä»£ç 
ğŸ”§ README.md                             # ä¿®å¤é”™è¯¯ï¼Œæ›´æ–°æ–‡æ¡£
```

## ğŸš€ ä½¿ç”¨æ–¹å¼

### æ„å»ºå‘½ä»¤
```bash
# å®Œæ•´æ„å»ºï¼ˆæ¨èï¼‰
pnpm run build

# ç”Ÿäº§ç¯å¢ƒæ„å»ºï¼ˆå‹ç¼©ï¼‰
NODE_ENV=production pnpm run build

# ä»…ç”Ÿæˆ CSS Variables
pnpm run generate:css-vars

# ä»…ç¼–è¯‘æ ·å¼
pnpm run build:styles

# å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬ï¼‰
pnpm run dev
```

### æ„å»ºé¡ºåº
```
tsup (ç¼–è¯‘ TS) â†’ generate:css-vars â†’ build:styles
```

## âš ï¸ é‡è¦æç¤º

### 1. ä¸è¦æ‰‹åŠ¨ç¼–è¾‘ css-variables.less
æ­¤æ–‡ä»¶ç”±è„šæœ¬è‡ªåŠ¨ç”Ÿæˆã€‚å¦‚éœ€ä¿®æ”¹ä¸»é¢˜å€¼ï¼Œè¯·ç¼–è¾‘ï¼š
- `src/tokens/*.ts` - Token ç±»å‹å®šä¹‰
- `src/themes/*.ts` - ä¸»é¢˜å€¼å®šä¹‰

### 2. é¦–æ¬¡æ„å»º
å¦‚æœé¡¹ç›®æ˜¯æ–°å…‹éš†çš„æˆ– `css-variables.less` è¢«åˆ é™¤ï¼š
```bash
pnpm run build  # ä¼šè‡ªåŠ¨ç”Ÿæˆæ‰€éœ€æ–‡ä»¶
```

### 3. ä¿®æ”¹ Token åçš„å·¥ä½œæµ
```bash
1. ç¼–è¾‘ src/tokens/*.ts æˆ– src/themes/*.ts
2. pnpm run build  # é‡æ–°æ„å»º
```

## ğŸ“Š å¯¹æ¯”

### æ„å»ºæµç¨‹å¯¹æ¯”

**ä¹‹å‰ï¼ˆæœ‰é—®é¢˜ï¼‰ï¼š**
```
1. ç¼–è¯‘ TypeScript
2. ç¼–è¯‘ Lessï¼ˆå¼•ç”¨æœªå®šä¹‰çš„ CSS Variablesï¼‰âŒ
3. ç”Ÿæˆ CSS Variables
4. åˆå¹¶ CSS
```

**ç°åœ¨ï¼ˆæ­£ç¡®ï¼‰ï¼š**
```
1. ç¼–è¯‘ TypeScript
2. ç”Ÿæˆ css-variables.lessï¼ˆä» TS tokensï¼‰âœ…
3. ç¼–è¯‘ Lessï¼ˆCSS Variables å·²å­˜åœ¨ï¼‰âœ…
4. è¾“å‡ºæœ€ç»ˆ CSS
```

### æ–‡ä»¶ç»„ç»‡å¯¹æ¯”

**ä¹‹å‰ï¼š**
```
code-block.less (163è¡Œ)
  - Mermaid æ ·å¼
  - Code æ ·å¼
  ï¼ˆæ··åœ¨ä¸€èµ·ï¼‰
```

**ç°åœ¨ï¼š**
```
code-block.less (90è¡Œ)  - åªåŒ…å«ä»£ç å—æ ·å¼
mermaid.less (73è¡Œ)     - ç‹¬ç«‹çš„ Mermaid æ ·å¼
ï¼ˆèŒè´£æ¸…æ™°ï¼‰
```

## âœ… éªŒè¯æ¸…å•

- [x] CSS Variables æ­£ç¡®ç”Ÿæˆ
- [x] Less ç¼–è¯‘æ— é”™è¯¯
- [x] Token ç³»ç»Ÿå®Œå–„
- [x] æ„å»ºè„šæœ¬æ›´æ–°
- [x] æ–‡æ¡£å·²æ›´æ–°
- [x] .gitignore å·²é…ç½®
- [x] ä»£ç é£æ ¼ç»Ÿä¸€
- [x] æ‰€æœ‰æ–‡ä»¶å·²åˆ›å»º

## ğŸ“ æœªæ¥æ”¹è¿›å»ºè®®ï¼ˆå¯é€‰ï¼‰

### é«˜ä¼˜å…ˆçº§
- [ ] æ·»åŠ è¯­ä¹‰åŒ–é¢œè‰² token (success, error, warning, info)
- [ ] ä¸ºç‰¹æ®Šç»„ä»¶æ·»åŠ ä¸“å±é¢œè‰² token

### ä¸­ä¼˜å…ˆçº§
- [ ] æ·»åŠ é«˜å¯¹æ¯”åº¦ä¸»é¢˜ï¼ˆå¯è®¿é—®æ€§ï¼‰
- [ ] ä¼˜åŒ– applyTheme æ€§èƒ½ï¼ˆæ‰¹é‡è®¾ç½® CSS Variablesï¼‰
- [ ] æ·»åŠ ä¸»é¢˜é¢„è§ˆå·¥å…·

### ä½ä¼˜å…ˆçº§
- [ ] æ·»åŠ  PostCSS å¤„ç†ï¼ˆautoprefixer ç­‰ï¼‰
- [ ] CSS æ–‡ä»¶å¤§å°ç›‘æ§å’Œé¢„è­¦
- [ ] ä¸»é¢˜è®¾è®¡æŒ‡å—æ–‡æ¡£

## ğŸ‰ æ€»ç»“

æœ¬æ¬¡ä¼˜åŒ–å®Œç¾è§£å†³äº† theme åŒ…çš„æ ¸å¿ƒæ¶æ„é—®é¢˜ï¼š

1. **å•ä¸€æ•°æ®æº**ï¼šToken åªåœ¨ TypeScript ä¸­å®šä¹‰
2. **æ¸…æ™°çš„ä¾èµ–**ï¼šCSS Variables å…ˆç”Ÿæˆï¼Œå†è¢« Less å¼•ç”¨
3. **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ
4. **æ˜“äºç»´æŠ¤**ï¼šä»£ç ç»„ç»‡æ¸…æ™°ï¼Œæ–‡æ¡£å®Œå–„
5. **æ„å»ºå¯é **ï¼šå®Œå–„çš„é”™è¯¯æ£€æŸ¥å’ŒæŠ¥å‘Š

**å…³é”®æ”¶è·ï¼š** æ­£ç¡®çš„æ¶æ„è®¾è®¡æ˜¯é¡¹ç›®é•¿æœŸå¯ç»´æŠ¤æ€§çš„åŸºç¡€ã€‚é¿å…å¾ªç¯ä¾èµ–ï¼Œç¡®ä¿ä¾èµ–å…³ç³»æ¸…æ™°ï¼Œæ˜¯è®¾è®¡å·¥å…·é“¾æ—¶çš„é‡è¦åŸåˆ™ã€‚

---

**ä¼˜åŒ–å®Œæˆæ—¶é—´ï¼š** 2024
**ä¼˜åŒ–å†…å®¹ï¼š** æ¶æ„é‡æ„ã€ä»£ç ä¼˜åŒ–ã€æ–‡æ¡£å®Œå–„
**çŠ¶æ€ï¼š** âœ… å…¨éƒ¨å®Œæˆ

